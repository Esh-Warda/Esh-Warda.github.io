<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Esh Portfolio</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body id="contactPage">
    <header id="mainHeader">
      <img
        src="https://img.freepik.com/premium-photo/blue-gray-logo-with-black-blue-design_1274269-63878.jpg"
        alt="logo"
      />
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="infographic.html">Infographic</a></li>
          <li><a href="logo.html">Logo</a></li>
          <li><a href="tShirt.html">T-shirt</a></li>
          <li><a href="bookCover.html">Book-Cover</a></li>
          <li><a href="bussinessCard.html">Bussiness-Card</a></li>
          <li><a href="postCard.html">Post-Card</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html" class="selected">Contact</a></li>
        </ul>
        <i class="fas fa-times" id="close"></i>
      </nav>
      <div id="mobile">
        <i id="bar" class="fas fa-outdent"></i>
      </div>
    </header>

    <section id="contactUsMainSection">
      <form
        method="POST"
        id="contactForm"
        action="https://formspree.io/f/xnnqnlnk"
        data-success=""
      >
        <h2>Contact Us</h2>

        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />

        <label for="occupation">Occupation:</label>
        <input type="text" id="occupation" name="occupation" required />

        <label for="subject">Subject:</label>
        <input type="text" id="subject" name="subject" required />

        <label for="comment">Comment:</label>
        <textarea id="comment" name="comment" rows="4"></textarea>

        <button type="submit">Submit</button>
      </form>
      <!-- confirm message -->
      <div id="confirmMessage">
        <div class="confirmContainer">
          <p>
            Your message has sended successfully. We will answer you within 24
            hours. Thanks
          </p>
          <button id="confirmButton">Ok</button>
        </div>
      </div>
      <div id="overlay"></div>
    </section>

    <footer>
      <div>
        <p>Contact Us:</p>
        <a href="mailto:wardaesh@gmail.com">wardaesh@gmail.com</a>
      </div>
    </footer>

    <script>
      document
        .getElementById("contactForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent the default form submission

          const formData = new FormData(this); // Collect form data

          fetch(this.action, {
            method: "POST",
            body: formData,
            headers: {
              Accept: "application/json",
            },
          })
            .then((response) => {
              if (response.ok) {
                showConfirm();
                this.reset(); // Optionally reset the form
              } else {
                alert("Your form submitting has a problem. Please retry.");
              }
            })
            .catch((error) => {
              alert("Your form submitting has a problem. Please retry.");
            });
        });

      // Function to show the confirmation message
      function showConfirm() {
        const confirmMessageDiv = document.getElementById("confirmMessage");
        confirmMessageDiv.classList.add("show");
      }

      // confirm button functionality
      document
        .getElementById("confirmButton")
        .addEventListener("click", function () {
          const confirmMessageDiv = document.getElementById("confirmMessage");
          confirmMessageDiv.classList.remove("show");
        });
    </script>

    <script src="script.js"></script>
  </body>
</html>
